!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.motionInput=e()}}(function(){var e;return function t(e,i,n){function r(a,s){if(!i[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return r(i?i:t)},u,u.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,i){"use strict";var n=e("babel-runtime/helpers/get")["default"],r=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],s=e("./InputModule"),c=function(e){function t(e,i){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,i),this.DOMEventModule=e,this.event=[0,0,0],this._webkitCompassHeadingReference=null}return r(t,e),o(t,[{key:"start",value:function(){this.DOMEventModule._addListener()}},{key:"stop",value:function(){this.DOMEventModule._removeListener()}},{key:"init",value:function(){var e=this;this.DOMEventModule.required[this.eventType]=!0;var t=this.DOMEventModule.promise;return t||(t=this.DOMEventModule.init()),t.then(function(t){return e})}}]),t}(s);t.exports=c},{"./InputModule":5,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18}],2:[function(e,t,i){"use strict";function n(){return window.performance?window.performance.now()/1e3:Date.now()/1e3}var r=e("babel-runtime/helpers/get")["default"],o=e("babel-runtime/helpers/inherits")["default"],a=e("babel-runtime/helpers/create-class")["default"],s=e("babel-runtime/helpers/class-call-check")["default"],c=e("./InputModule"),l=e("./DOMEventSubmodule"),u=e("./MotionInput"),d=e("platform"),f=function(e){function t(){s(this,t),r(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"devicemotion"),this.event=[null,null,null,null,null,null,null,null,null],this.accelerationIncludingGravity=new l(this,"accelerationIncludingGravity"),this.acceleration=new l(this,"acceleration"),this.rotationRate=new l(this,"rotationRate"),this.required={accelerationIncludingGravity:!1,acceleration:!1,rotationRate:!1},this._numListeners=0,this._promiseResolve=null,this._unifyMotionData="iOS"===d.os.family?-1:1,this._unifyPeriod="Android"===d.os.family?.001:1,this._calculatedAcceleration=[0,0,0],this._calculatedAccelerationTimeConstant=.1,this._lastAccelerationIncludingGravity=[0,0,0],this._calculatedRotationRate=[0,0,0],this._lastOrientation=[0,0,0],this._lastOrientationTimestamp=null,this._devicemotionCheck=this._devicemotionCheck.bind(this),this._devicemotionListener=this._devicemotionListener.bind(this)}return o(t,e),a(t,[{key:"_devicemotionCheck",value:function(e){this.isProvided=!0,this.period=e.interval/1e3,this.accelerationIncludingGravity.isProvided=e.accelerationIncludingGravity&&"number"==typeof e.accelerationIncludingGravity.x&&"number"==typeof e.accelerationIncludingGravity.y&&"number"==typeof e.accelerationIncludingGravity.z,this.accelerationIncludingGravity.period=e.interval*this._unifyPeriod,this.acceleration.isProvided=e.acceleration&&"number"==typeof e.acceleration.x&&"number"==typeof e.acceleration.y&&"number"==typeof e.acceleration.z,this.acceleration.period=e.interval*this._unifyPeriod,this.rotationRate.isProvided=e.rotationRate&&"number"==typeof e.rotationRate.alpha&&"number"==typeof e.rotationRate.beta&&"number"==typeof e.rotationRate.gamma,this.rotationRate.period=e.interval*this._unifyPeriod,window.removeEventListener("devicemotion",this._devicemotionCheck,!1),this.acceleration.isProvided||(this.acceleration.isCalculated=this.accelerationIncludingGravity.isProvided),this._promiseResolve(this)}},{key:"_devicemotionListener",value:function(e){this._emitDeviceMotionEvent(e),this.required.accelerationIncludingGravity&&this.accelerationIncludingGravity.isValid&&this._emitAccelerationIncludingGravityEvent(e),this.required.acceleration&&this.acceleration.isValid&&this._emitAccelerationEvent(e),this.required.rotationRate&&this.rotationRate.isProvided&&this._emitRotationRateEvent(e)}},{key:"_emitDeviceMotionEvent",value:function(e){var t=this.event;e.accelerationIncludingGravity&&(t[0]=e.accelerationIncludingGravity.x,t[1]=e.accelerationIncludingGravity.y,t[2]=e.accelerationIncludingGravity.z),e.acceleration&&(t[3]=e.acceleration.x,t[4]=e.acceleration.y,t[5]=e.acceleration.z),e.rotationRate&&(t[6]=e.rotationRate.alpha,t[7]=e.rotationRate.beta,t[8]=e.rotationRate.gamma),this.emit(t)}},{key:"_emitAccelerationIncludingGravityEvent",value:function(e){var t=this.accelerationIncludingGravity.event;t[0]=e.accelerationIncludingGravity.x*this._unifyMotionData,t[1]=e.accelerationIncludingGravity.y*this._unifyMotionData,t[2]=e.accelerationIncludingGravity.z*this._unifyMotionData,this.accelerationIncludingGravity.emit(t)}},{key:"_emitAccelerationEvent",value:function(e){var t=this.acceleration.event;if(this.acceleration.isProvided)t[0]=e.acceleration.x*this._unifyMotionData,t[1]=e.acceleration.y*this._unifyMotionData,t[2]=e.acceleration.z*this._unifyMotionData;else if(this.accelerationIncludingGravity.isValid){var i=[e.accelerationIncludingGravity.x*this._unifyMotionData,e.accelerationIncludingGravity.y*this._unifyMotionData,e.accelerationIncludingGravity.z*this._unifyMotionData],n=this._calculatedAccelerationDecay;this._calculatedAcceleration[0]=.5*(1+n)*i[0]-.5*(1+n)*this._lastAccelerationIncludingGravity[0]+n*this._calculatedAcceleration[0],this._calculatedAcceleration[1]=.5*(1+n)*i[1]-.5*(1+n)*this._lastAccelerationIncludingGravity[1]+n*this._calculatedAcceleration[1],this._calculatedAcceleration[2]=.5*(1+n)*i[2]-.5*(1+n)*this._lastAccelerationIncludingGravity[2]+n*this._calculatedAcceleration[2],this._lastAccelerationIncludingGravity[0]=i[0],this._lastAccelerationIncludingGravity[1]=i[1],this._lastAccelerationIncludingGravity[2]=i[2],t[0]=this._calculatedAcceleration[0],t[1]=this._calculatedAcceleration[1],t[2]=this._calculatedAcceleration[2]}this.acceleration.emit(t)}},{key:"_emitRotationRateEvent",value:function(e){var t=this.rotationRate.event;t[0]=e.rotationRate.alpha,t[1]=e.rotationRate.beta,t[2]=e.rotationRate.gamma,this.rotationRate.emit(t)}},{key:"_calculateRotationRateFromOrientation",value:function(e){var t=n(),i=.8,r="number"==typeof e[0];if(this._lastOrientationTimestamp){var o=null,a=void 0,s=void 0,c=0,l=0,u=0,d=t-this._lastOrientationTimestamp;r&&(this._lastOrientation[0]>320&&e[0]<40?c=360:this._lastOrientation[0]<40&&e[0]>320&&(c=-360)),this._lastOrientation[1]>140&&e[1]<-140?l=360:this._lastOrientation[1]<-140&&e[1]>140&&(l=-360),this._lastOrientation[2]>50&&e[2]<-50?u=180:this._lastOrientation[2]<-50&&e[2]>50&&(u=-180),d>0&&(r&&(o=i*this._calculatedRotationRate[0]+(1-i)*(e[0]-this._lastOrientation[0]+c)/d),a=i*this._calculatedRotationRate[1]+(1-i)*(e[1]-this._lastOrientation[1]+l)/d,s=i*this._calculatedRotationRate[2]+(1-i)*(e[2]-this._lastOrientation[2]+u)/d,this._calculatedRotationRate[0]=o,this._calculatedRotationRate[1]=a,this._calculatedRotationRate[2]=s),this.rotationRate.emit(this._calculatedRotationRate)}this._lastOrientationTimestamp=t,this._lastOrientation[0]=e[0],this._lastOrientation[1]=e[1],this._lastOrientation[2]=e[2]}},{key:"_tryOrientationFallback",value:function(){var e=this;u.requireModule("orientation").then(function(t){t.isValid&&(console.log("WARNING (motion-input): The 'devicemotion' event does not exists or does not provide rotation rate values in your browser, so the rotation rate of the device is estimated from the 'orientation', calculated from the 'deviceorientation' event. Since the compass might not be available, only `beta` and `gamma` angles may be provided (`alpha` would be null)."),e.rotationRate.isCalculated=!0,u.addListener("orientation",function(t){e._calculateRotationRateFromOrientation(t)})),e._promiseResolve(e)})}},{key:"_addListener",value:function(){this._numListeners++,1===this._numListeners&&window.addEventListener("devicemotion",this._devicemotionListener,!1)}},{key:"_removeListener",value:function(){this._numListeners--,0===this._numListeners&&window.removeEventListener("devicemotion",this._devicemotionListener,!1)}},{key:"init",value:function(){var e=this;return r(Object.getPrototypeOf(t.prototype),"init",this).call(this,function(t){e._promiseResolve=t,window.DeviceMotionEvent?window.addEventListener("devicemotion",e._devicemotionCheck,!1):t(e)})}},{key:"addListener",value:function(e){r(Object.getPrototypeOf(t.prototype),"addListener",this).call(this,e),this._addListener()}},{key:"removeListener",value:function(e){r(Object.getPrototypeOf(t.prototype),"removeListener",this).call(this,e),this._removeListener()}},{key:"_calculatedAccelerationDecay",get:function(){return Math.exp(-2*Math.PI*this.accelerationIncludingGravity.period/this._calculatedAccelerationTimeConstant)}}]),t}(c);t.exports=new f},{"./DOMEventSubmodule":1,"./InputModule":5,"./MotionInput":6,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,platform:60}],3:[function(e,t,i){"use strict";function n(e){return e*Math.PI/180}function r(e){return 180*e/Math.PI}function o(e){for(var t=e[0]*e[4]*e[8]+e[1]*e[5]*e[6]+e[2]*e[3]*e[7]-e[0]*e[5]*e[7]-e[1]*e[3]*e[8]-e[2]*e[4]*e[6],i=0;i<e.length;i++)e[i]/=t;return e}function a(e){var t="number"==typeof e[0],i=t?n(e[0]):0,a=n(e[1]),s=n(e[2]),c=Math.cos(i),l=Math.cos(a),u=Math.cos(s),d=Math.sin(i),f=Math.sin(a),h=Math.sin(s),p=void 0,b=void 0,v=void 0,m=[c*u-d*f*h,-l*d,c*h+u*d*f,u*d+c*f*h,c*l,d*h-c*u*f,-l*h,f,l*u];o(m),m[8]>0?(p=Math.atan2(-m[1],m[4]),b=Math.asin(m[7]),v=Math.atan2(-m[6],m[8])):m[8]<0?(p=Math.atan2(m[1],-m[4]),b=-Math.asin(m[7]),b+=b>=0?-Math.PI:Math.PI,v=Math.atan2(m[6],-m[8])):m[6]>0?(p=Math.atan2(-m[1],m[4]),b=Math.asin(m[7]),v=-Math.PI/2):m[6]<0?(p=Math.atan2(m[1],-m[4]),b=-Math.asin(m[7]),b+=b>=0?-Math.PI:Math.PI,v=-Math.PI/2):(p=Math.atan2(m[3],m[0]),b=m[7]>0?Math.PI/2:-Math.PI/2,v=0),p+=0>p?2*Math.PI:0,e[0]=t?r(p):null,e[1]=r(b),e[2]=r(v)}function s(e){var t="number"==typeof e[0],i=t?n(e[0]):0,a=n(e[1]),s=n(e[2]),c=Math.cos(i),l=Math.cos(a),u=Math.cos(s),d=Math.sin(i),f=Math.sin(a),h=Math.sin(s),p=void 0,b=void 0,v=void 0,m=[c*u-d*f*h,-l*d,c*h+u*d*f,u*d+c*f*h,c*l,d*h-c*u*f,-l*h,f,l*u];o(m),p=Math.atan2(-m[1],m[4]),p+=0>p?2*Math.PI:0,b=Math.asin(m[7]),v=Math.atan2(-m[6],m[8]),e[0]=t?r(p):null,e[1]=r(b),e[2]=r(v)}var c=e("babel-runtime/helpers/get")["default"],l=e("babel-runtime/helpers/inherits")["default"],u=e("babel-runtime/helpers/create-class")["default"],d=e("babel-runtime/helpers/class-call-check")["default"],f=e("./DOMEventSubmodule"),h=e("./InputModule"),p=e("./MotionInput"),b=e("platform"),v=function(e){function t(){d(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"deviceorientation"),this.event=[null,null,null],this.orientation=new f(this,"orientation"),this.orientationAlt=new f(this,"orientationAlt"),this.required={orientation:!1,orientationAlt:!1},this._numListeners=0,this._promiseResolve=null,this._estimatedGravity=[0,0,0],this._deviceorientationCheck=this._deviceorientationCheck.bind(this),this._deviceorientationListener=this._deviceorientationListener.bind(this)}return l(t,e),u(t,[{key:"_deviceorientationCheck",value:function(e){this.isProvided=!0;var t="number"==typeof e.alpha&&"number"==typeof e.beta&&"number"==typeof e.gamma;this.orientation.isProvided=t,this.orientationAlt.isProvided=t,window.removeEventListener("deviceorientation",this._deviceorientationCheck,!1),this.required.orientation&&!this.orientation.isProvided||this.required.orientationAlt&&!this.orientationAlt.isProvided?this._tryAccelerationIncludingGravityFallback():this._promiseResolve(this)}},{key:"_deviceorientationListener",value:function(e){var t=this.event;if(t[0]=e.alpha,t[1]=e.beta,t[2]=e.gamma,this.emit(t),this.required.orientation&&this.orientation.isProvided){!this.orientation._webkitCompassHeadingReference&&e.webkitCompassHeading&&"iOS"===b.os.family&&(this.orientation._webkitCompassHeadingReference=e.webkitCompassHeading);var i=this.orientation.event;i[0]=e.alpha,i[1]=e.beta,i[2]=e.gamma,this.orientation._webkitCompassHeadingReference&&"iOS"===b.os.family&&(i[0]+=360-this.orientation._webkitCompassHeadingReference,a(i)),this.orientation.emit(i)}if(this.required.orientationAlt&&this.orientationAlt.isProvided){!this.orientationAlt._webkitCompassHeadingReference&&e.webkitCompassHeading&&"iOS"===b.os.family&&(this.orientationAlt._webkitCompassHeadingReference=e.webkitCompassHeading);var n=this.orientationAlt.event;n[0]=e.alpha,n[1]=e.beta,n[2]=e.gamma,this.orientationAlt._webkitCompassHeadingReference&&"iOS"===b.os.family&&(n[0]-=this.orientationAlt._webkitCompassHeadingReference,n[0]+=n[0]<0?360:0),"Android"===b.os.family&&s(n),this.orientationAlt.emit(n)}}},{key:"_tryAccelerationIncludingGravityFallback",value:function(){var e=this;p.requireModule("accelerationIncludingGravity").then(function(t){t.isValid&&(console.log("WARNING (motion-input): The 'deviceorientation' event does not exist or does not provide values in your browser, so the orientation of the device is estimated from DeviceMotion's 'accelerationIncludingGravity' event. Since the compass is not available, only the `beta` and `gamma` angles are provided (`alpha` is null)."),e.required.orientation&&(e.orientation.isCalculated=!0,e.orientation.period=t.period,p.addListener("accelerationIncludingGravity",function(t){e._calculateBetaAndGammaFromAccelerationIncludingGravity(t)})),e.required.orientationAlt&&(e.orientationAlt.isCalculated=!0,e.orientationAlt.period=t.period,p.addListener("accelerationIncludingGravity",function(t){e._calculateBetaAndGammaFromAccelerationIncludingGravity(t,!0)}))),e._promiseResolve(e)})}},{key:"_calculateBetaAndGammaFromAccelerationIncludingGravity",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=.8;this._estimatedGravity[0]=i*this._estimatedGravity[0]+(1-i)*e[0],this._estimatedGravity[1]=i*this._estimatedGravity[1]+(1-i)*e[1],this._estimatedGravity[2]=i*this._estimatedGravity[2]+(1-i)*e[2];var n=this._estimatedGravity[0],o=this._estimatedGravity[1],s=this._estimatedGravity[2],c=Math.sqrt(n*n+o*o+s*s);n/=c,o/=c,s/=c;var l=r(Math.asin(o)),u=r(Math.atan2(-n,s));if(t){var d=this.orientationAlt.event;d[0]=null,d[1]=l,d[2]=u,this.orientationAlt.emit(d)}else{var d=this.orientation.event;d[0]=null,d[1]=l,d[2]=u,a(d),this.orientation.emit(d)}}},{key:"_addListener",value:function(){this._numListeners++,1===this._numListeners&&window.addEventListener("deviceorientation",this._deviceorientationListener,!1)}},{key:"_removeListener",value:function(){this._numListeners--,0===this._numListeners&&(window.removeEventListener("deviceorientation",this._deviceorientationListener,!1),this.orientation._webkitCompassHeadingReference=null)}},{key:"init",value:function(){var e=this;return c(Object.getPrototypeOf(t.prototype),"init",this).call(this,function(t){e._promiseResolve=t,window.DeviceOrientationEvent?window.addEventListener("deviceorientation",e._deviceorientationCheck,!1):e.required.orientation?e._tryAccelerationIncludingGravityFallback():t(e)})}},{key:"addListener",value:function(e){c(Object.getPrototypeOf(t.prototype),"addListener",this).call(this,e),this._addListener()}},{key:"removeListener",value:function(e){c(Object.getPrototypeOf(t.prototype),"removeListener",this).call(this,e),this._removeListener()}}]),t}(h);t.exports=new v},{"./DOMEventSubmodule":1,"./InputModule":5,"./MotionInput":6,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,platform:60}],4:[function(e,t,i){"use strict";var n=e("babel-runtime/helpers/get")["default"],r=e("babel-runtime/helpers/inherits")["default"],o=e("babel-runtime/helpers/create-class")["default"],a=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/sliced-to-array")["default"],c=e("babel-runtime/core-js/promise")["default"],l=e("./InputModule"),u=e("./MotionInput"),d=function(e){function t(){a(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"energy"),this.event=0,this._accelerationModule=null,this._accelerationValues=null,this._accelerationMagnitudeCurrentMax=9.81,this._accelerationMagnitudeThreshold=20,this._rotationRateModule=null,this._rotationRateValues=null,this._rotationRateMagnitudeCurrentMax=200,this._rotationRateMagnitudeThreshold=600,this._energyTimeConstant=.1,this._onAcceleration=this._onAcceleration.bind(this),this._onRotationRate=this._onRotationRate.bind(this)}return r(t,e),o(t,[{key:"init",value:function(){var e=this;return n(Object.getPrototypeOf(t.prototype),"init",this).call(this,function(t){c.all([u.requireModule("acceleration"),u.requireModule("rotationRate")]).then(function(i){var n=s(i,2),r=n[0],o=n[1];e._accelerationModule=r,e._rotationRateModule=o,e.isCalculated=e._accelerationModule.isValid||e._rotationRateModule.isValid,e._accelerationModule.isValid?e.period=e._accelerationModule.period:e._rotationRateModule.isValid&&(e.period=e._rotationRateModule.period),t(e)})})}},{key:"start",value:function(){this._accelerationModule.isValid&&u.addListener("acceleration",this._onAcceleration),this._rotationRateModule.isValid&&u.addListener("rotationRate",this._onRotationRate)}},{key:"stop",value:function(){this._accelerationModule.isValid&&u.removeListener("acceleration",this._onAcceleration),this._rotationRateModule.isValid&&u.removeListener("rotationRate",this._onRotationRate)}},{key:"_onAcceleration",value:function(e){this._accelerationValues=e,this._rotationRateModule.isValid||this._calculateEnergy()}},{key:"_onRotationRate",value:function(e){this._rotationRateValues=e,this._calculateEnergy()}},{key:"_calculateEnergy",value:function(){var e=0,t=0;if(this._accelerationModule.isValid){var i=this._accelerationValues[0],n=this._accelerationValues[1],r=this._accelerationValues[2],o=Math.sqrt(i*i+n*n+r*r);this._accelerationMagnitudeCurrentMax<o&&(this._accelerationMagnitudeCurrentMax=Math.min(o,this._accelerationMagnitudeThreshold)),e=Math.min(o/this._accelerationMagnitudeCurrentMax,1)}if(this._rotationRateModule.isValid){var a=this._rotationRateValues[0],s=this._rotationRateValues[1],c=this._rotationRateValues[2],l=Math.sqrt(a*a+s*s+c*c);this._rotationRateMagnitudeCurrentMax<l&&(this._rotationRateMagnitudeCurrentMax=Math.min(l,this._rotationRateMagnitudeThreshold)),t=Math.min(l/this._rotationRateMagnitudeCurrentMax,1)}var u=Math.max(e,t),d=this._energyDecay;this.event=d*this.event+(1-d)*u,this.emit(this.event)}},{key:"_energyDecay",get:function(){return Math.exp(-2*Math.PI*this.period/this._energyTimeConstant)}}]),t}(l);t.exports=new d},{"./InputModule":5,"./MotionInput":6,"babel-runtime/core-js/promise":14,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16,"babel-runtime/helpers/get":17,"babel-runtime/helpers/inherits":18,"babel-runtime/helpers/sliced-to-array":19}],5:[function(e,t,i){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],r=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/core-js/promise")["default"],a=e("babel-runtime/core-js/get-iterator")["default"],s=function(){function e(t){r(this,e),this.eventType=t,this.listeners=[],this.event=null,this.promise=null,this.isCalculated=!1,this.isProvided=!1,this.period=void 0}return n(e,[{key:"init",value:function(e){return this.promise=new o(e),this.promise}},{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"addListener",value:function(e){this.listeners.push(e),1===this.listeners.length&&this.start()}},{key:"removeListener",value:function(e){var t=this.listeners.indexOf(e);this.listeners.splice(t,1),0===this.listeners.length&&this.stop()}},{key:"emit",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.event:arguments[0],t=!0,i=!1,n=void 0;try{for(var r,o=a(this.listeners);!(t=(r=o.next()).done);t=!0){var s=r.value;s(e)}}catch(c){i=!0,n=c}finally{try{!t&&o["return"]&&o["return"]()}finally{if(i)throw n}}}},{key:"isValid",get:function(){return this.isProvided||this.isCalculated}}]),e}();t.exports=s},{"babel-runtime/core-js/get-iterator":8,"babel-runtime/core-js/promise":14,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16}],6:[function(e,t,i){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],r=e("babel-runtime/helpers/class-call-check")["default"],o=e("babel-runtime/core-js/promise")["default"],a=function(){function e(){r(this,e),this.modules={}}return n(e,[{key:"addModule",value:function(e,t){this.modules[e]=t}},{key:"getModule",value:function(e){return this.modules[e]}},{key:"requireModule",value:function(e){var t=this.getModule(e);return t.promise?t.promise:t.init()}},{key:"init",value:function(){for(var e=this,t=arguments.length,i=Array(t),n=0;t>n;n++)i[n]=arguments[n];var r=i.map(function(t){var i=e.getModule(t);return i.init()});return o.all(r)}},{key:"addListener",value:function(e,t){var i=this.getModule(e);i.addListener(t)}},{key:"removeListener",value:function(e,t){var i=this.getModule(e);i.removeListener(t)}}]),e}();t.exports=new a},{"babel-runtime/core-js/promise":14,"babel-runtime/helpers/class-call-check":15,"babel-runtime/helpers/create-class":16}],7:[function(e,t,i){"use strict";var n=e("./dist/MotionInput"),r=e("./dist/DeviceOrientationModule"),o=e("./dist/DeviceMotionModule"),a=e("./dist/EnergyModule");n.addModule("devicemotion",o),n.addModule("deviceorientation",r),n.addModule("accelerationIncludingGravity",o.accelerationIncludingGravity),n.addModule("acceleration",o.acceleration),n.addModule("rotationRate",o.rotationRate),n.addModule("orientation",r.orientation),n.addModule("orientationAlt",r.orientationAlt),n.addModule("energy",a),t.exports=n},{"./dist/DeviceMotionModule":2,"./dist/DeviceOrientationModule":3,"./dist/EnergyModule":4,"./dist/MotionInput":6}],8:[function(e,t,i){t.exports={"default":e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":20}],9:[function(e,t,i){t.exports={"default":e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":21}],10:[function(e,t,i){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":22}],11:[function(e,t,i){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":23}],12:[function(e,t,i){t.exports={"default":e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":24}],13:[function(e,t,i){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":25}],14:[function(e,t,i){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":26}],15:[function(e,t,i){"use strict";i["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i.__esModule=!0},{}],16:[function(e,t,i){"use strict";var n=e("babel-runtime/core-js/object/define-property")["default"];i["default"]=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),n(e,r.key,r)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),i.__esModule=!0},{"babel-runtime/core-js/object/define-property":11}],17:[function(e,t,i){"use strict";var n=e("babel-runtime/core-js/object/get-own-property-descriptor")["default"];i["default"]=function(e,t,i){for(var r=!0;r;){var o=e,a=t,s=i;c=u=l=void 0,r=!1,null===o&&(o=Function.prototype);var c=n(o,a);if(void 0!==c){if("value"in c)return c.value;var l=c.get;return void 0===l?void 0:l.call(s)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;e=u,t=a,i=s,r=!0}},i.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":12}],18:[function(e,t,i){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],r=e("babel-runtime/core-js/object/set-prototype-of")["default"];i["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r?r(e,t):e.__proto__=t)},i.__esModule=!0},{"babel-runtime/core-js/object/create":10,"babel-runtime/core-js/object/set-prototype-of":13}],19:[function(e,t,i){"use strict";var n=e("babel-runtime/core-js/get-iterator")["default"],r=e("babel-runtime/core-js/is-iterable")["default"];i["default"]=function(){function e(e,t){var i=[],r=!0,o=!1,a=void 0;try{for(var s,c=n(e);!(r=(s=c.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{!r&&c["return"]&&c["return"]()}finally{if(o)throw a}}return i}return function(t,i){if(Array.isArray(t))return t;if(r(Object(t)))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i.__esModule=!0},{"babel-runtime/core-js/get-iterator":8,"babel-runtime/core-js/is-iterable":9}],20:[function(e,t,i){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),e("../modules/core.iter-helpers"),t.exports=e("../modules/$").core.getIterator},{"../modules/$":40,"../modules/core.iter-helpers":52,"../modules/es6.string.iterator":58,"../modules/web.dom.iterable":59}],21:[function(e,t,i){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),e("../modules/core.iter-helpers"),t.exports=e("../modules/$").core.isIterable},{"../modules/$":40,"../modules/core.iter-helpers":52,"../modules/es6.string.iterator":58,"../modules/web.dom.iterable":59}],22:[function(e,t,i){var n=e("../../modules/$");t.exports=function(e,t){return n.create(e,t)}},{"../../modules/$":40}],23:[function(e,t,i){var n=e("../../modules/$");t.exports=function(e,t,i){return n.setDesc(e,t,i)}},{"../../modules/$":40}],24:[function(e,t,i){var n=e("../../modules/$");e("../../modules/es6.object.statics-accept-primitives"),t.exports=function(e,t){return n.getDesc(e,t)}},{"../../modules/$":40,"../../modules/es6.object.statics-accept-primitives":55}],25:[function(e,t,i){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$").core.Object.setPrototypeOf},{"../../modules/$":40,"../../modules/es6.object.set-prototype-of":54}],26:[function(e,t,i){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$").core.Promise},{"../modules/$":40,"../modules/es6.object.to-string":56,"../modules/es6.promise":57,"../modules/es6.string.iterator":58,"../modules/web.dom.iterable":59}],27:[function(e,t,i){function n(e,t,i){if(!e)throw TypeError(i?t+i:t)}var r=e("./$");n.def=r.assertDefined,n.fn=function(e){if(!r.isFunction(e))throw TypeError(e+" is not a function!");return e},n.obj=function(e){if(!r.isObject(e))throw TypeError(e+" is not an object!");return e},n.inst=function(e,t,i){if(!(e instanceof t))throw TypeError(i+": use the 'new' operator!");return e},t.exports=n},{"./$":40}],28:[function(e,t,i){function n(e){return a.call(e).slice(8,-1)}var r=e("./$"),o=e("./$.wks")("toStringTag"),a={}.toString;n.classof=function(e){var t,i;return void 0==e?void 0===e?"Undefined":"Null":"string"==typeof(i=(t=Object(e))[o])?i:n(t)},n.set=function(e,t,i){e&&!r.has(e=i?e:e.prototype,o)&&r.hide(e,o,t)},t.exports=n},{"./$":40,"./$.wks":51}],29:[function(e,t,i){var n=e("./$.assert").fn;t.exports=function(e,t,i){if(n(e),~i&&void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},{"./$.assert":27}],30:[function(e,t,i){function n(e,t){return function(){return e.apply(t,arguments)}}function r(e,t,i){var o,l,u,d,f=e&r.G,h=e&r.P,p=f?a:e&r.S?a[t]:(a[t]||{}).prototype,b=f?s:s[t]||(s[t]={});f&&(i=t);for(o in i)l=!(e&r.F)&&p&&o in p,l&&o in b||(u=l?p[o]:i[o],f&&!c(p[o])?d=i[o]:e&r.B&&l?d=n(u,a):e&r.W&&p[o]==u?!function(e){d=function(t){return this instanceof e?new e(t):e(t)},d.prototype=e.prototype}(u):d=h&&c(u)?n(Function.call,u):u,b[o]=d,h&&((b.prototype||(b.prototype={}))[o]=u))}var o=e("./$"),a=o.g,s=o.core,c=o.isFunction;r.F=1,r.G=2,r.S=4,r.P=8,r.B=16,r.W=32,t.exports=r},{"./$":40}],31:[function(e,t,i){var n=e("./$"),r=n.g.document,o=n.isObject,a=o(r)&&o(r.createElement);t.exports=function(e){return a?r.createElement(e):{}}},{"./$":40}],32:[function(e,t,i){var n=e("./$.ctx"),r=e("./$.iter").get,o=e("./$.iter-call");t.exports=function(e,t,i,a){for(var s,c=r(e),l=n(i,a,t?2:1);!(s=c.next()).done;)if(o(c,l,s.value,t)===!1)return o.close(c)}},{"./$.ctx":29,"./$.iter":39,"./$.iter-call":36}],33:[function(e,t,i){t.exports=function(e){return e.FW=!1,e.path=e.core,e}},{}],34:[function(e,t,i){function n(e){try{return a(e)}catch(t){return s.slice()}}var r=e("./$"),o={}.toString,a=r.getNames,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.get=function(e){return s&&"[object Window]"==o.call(e)?n(e):a(r.toObject(e))}},{"./$":40}],35:[function(e,t,i){t.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3]);case 5:return n?e(t[0],t[1],t[2],t[3],t[4]):e.call(i,t[0],t[1],t[2],t[3],t[4])}return e.apply(i,t)}},{}],36:[function(e,t,i){function n(e){var t=e["return"];void 0!==t&&o(t.call(e))}function r(e,t,i,r){try{return r?t(o(i)[0],i[1]):t(i)}catch(a){throw n(e),a}}var o=e("./$.assert").obj;r.close=n,t.exports=r},{"./$.assert":27}],37:[function(e,t,i){var n=e("./$.def"),r=e("./$.redef"),o=e("./$"),a=e("./$.cof"),s=e("./$.iter"),c=e("./$.wks")("iterator"),l="@@iterator",u="keys",d="values",f=s.Iterators;t.exports=function(e,t,i,h,p,b,v){function m(e){function t(t){return new i(t,e)}switch(e){case u:return function(){return t(this)};case d:return function(){return t(this)}}return function(){return t(this)}}s.create(i,t,h);var y,g,_=t+" Iterator",M=e.prototype,$=M[c]||M[l]||p&&M[p],x=$||m(p);if($){var w=o.getProto(x.call(new e));a.set(w,_,!0),o.FW&&o.has(M,l)&&s.set(w,o.that)}if((o.FW||v)&&s.set(M,x),f[t]=x,f[_]=o.that,p)if(y={keys:b?x:m(u),values:p==d?x:m(d),entries:p!=d?x:m("entries")},v)for(g in y)g in M||r(M,g,y[g]);else n(n.P+n.F*s.BUGGY,t,y)}},{"./$":40,"./$.cof":28,"./$.def":30,"./$.iter":39,"./$.redef":42,"./$.wks":51}],38:[function(e,t,i){var n=e("./$.wks")("iterator"),r=!1;try{var o=[7][n]();o["return"]=function(){r=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(e){if(!r)return!1;var t=!1;try{var i=[7],o=i[n]();o.next=function(){t=!0},i[n]=function(){return o},e(i)}catch(a){}return t}},{"./$.wks":51}],39:[function(e,t,i){"use strict";function n(e,t){r.hide(e,l,t),u in[]&&r.hide(e,u,t)}var r=e("./$"),o=e("./$.cof"),a=o.classof,s=e("./$.assert"),c=s.obj,l=e("./$.wks")("iterator"),u="@@iterator",d=e("./$.shared")("iterators"),f={};n(f,r.that),t.exports={BUGGY:"keys"in[]&&!("next"in[].keys()),Iterators:d,step:function(e,t){return{value:t,done:!!e}},is:function(e){var t=Object(e),i=r.g.Symbol;return(i&&i.iterator||u)in t||l in t||r.has(d,a(t))},get:function(e){var t,i=r.g.Symbol;return void 0!=e&&(t=e[i&&i.iterator||u]||e[l]||d[a(e)]),
s(r.isFunction(t),e," is not iterable!"),c(t.call(e))},set:n,create:function(e,t,i,n){e.prototype=r.create(n||f,{next:r.desc(1,i)}),o.set(e,t+" Iterator")}}},{"./$":40,"./$.assert":27,"./$.cof":28,"./$.shared":45,"./$.wks":51}],40:[function(e,t,i){"use strict";function n(e){return isNaN(e=+e)?0:(e>0?b:p)(e)}function r(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function o(e,t,i){return e[t]=i,e}function a(e){return y?function(t,i,n){return _.setDesc(t,i,r(e,n))}:o}function s(e){return null!==e&&("object"==typeof e||"function"==typeof e)}function c(e){return"function"==typeof e}function l(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}var u="undefined"!=typeof self?self:Function("return this")(),d={},f=Object.defineProperty,h={}.hasOwnProperty,p=Math.ceil,b=Math.floor,v=Math.max,m=Math.min,y=!!function(){try{return 2==f({},"a",{get:function(){return 2}}).a}catch(e){}}(),g=a(1),_=t.exports=e("./$.fw")({g:u,core:d,html:u.document&&document.documentElement,isObject:s,isFunction:c,that:function(){return this},toInteger:n,toLength:function(e){return e>0?m(n(e),9007199254740991):0},toIndex:function(e,t){return e=n(e),0>e?v(e+t,0):m(e,t)},has:function(e,t){return h.call(e,t)},create:Object.create,getProto:Object.getPrototypeOf,DESC:y,desc:r,getDesc:Object.getOwnPropertyDescriptor,setDesc:f,setDescs:Object.defineProperties,getKeys:Object.keys,getNames:Object.getOwnPropertyNames,getSymbols:Object.getOwnPropertySymbols,assertDefined:l,ES5Object:Object,toObject:function(e){return _.ES5Object(l(e))},hide:g,def:a(0),set:u.Symbol?o:g,each:[].forEach});"undefined"!=typeof __e&&(__e=d),"undefined"!=typeof __g&&(__g=u)},{"./$.fw":33}],41:[function(e,t,i){var n=e("./$.redef");t.exports=function(e,t){for(var i in t)n(e,i,t[i]);return e}},{"./$.redef":42}],42:[function(e,t,i){t.exports=e("./$").hide},{"./$":40}],43:[function(e,t,i){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],44:[function(e,t,i){function n(e,t){o.obj(e),o(null===t||r.isObject(t),t,": can't set as prototype!")}var r=e("./$"),o=e("./$.assert");t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i){try{i=e("./$.ctx")(Function.call,r.getDesc(Object.prototype,"__proto__").set,2),i({},[])}catch(o){t=!0}return function(e,r){return n(e,r),t?e.__proto__=r:i(e,r),e}}():void 0),check:n}},{"./$":40,"./$.assert":27,"./$.ctx":29}],45:[function(e,t,i){var n=e("./$"),r="__core-js_shared__",o=n.g[r]||(n.g[r]={});t.exports=function(e){return o[e]||(o[e]={})}},{"./$":40}],46:[function(e,t,i){var n=e("./$"),r=e("./$.wks")("species");t.exports=function(e){!n.DESC||r in e||n.setDesc(e,r,{configurable:!0,get:n.that})}},{"./$":40,"./$.wks":51}],47:[function(e,t,i){var n=e("./$");t.exports=function(e){return function(t,i){var r,o,a=String(n.assertDefined(t)),s=n.toInteger(i),c=a.length;return 0>s||s>=c?e?"":void 0:(r=a.charCodeAt(s),55296>r||r>56319||s+1===c||(o=a.charCodeAt(s+1))<56320||o>57343?e?a.charAt(s):r:e?a.slice(s,s+2):(r-55296<<10)+(o-56320)+65536)}}},{"./$":40}],48:[function(e,t,i){"use strict";function n(){var e=+this;if(c.has(M,e)){var t=M[e];delete M[e],t()}}function r(e){n.call(e.data)}var o,a,s,c=e("./$"),l=e("./$.ctx"),u=e("./$.cof"),d=e("./$.invoke"),f=e("./$.dom-create"),h=c.g,p=c.isFunction,b=c.html,v=h.process,m=h.setImmediate,y=h.clearImmediate,g=h.MessageChannel,_=0,M={},$="onreadystatechange";p(m)&&p(y)||(m=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return M[++_]=function(){d(p(e)?e:Function(e),t)},o(_),_},y=function(e){delete M[e]},"process"==u(v)?o=function(e){v.nextTick(l(n,e,1))}:h.addEventListener&&p(h.postMessage)&&!h.importScripts?(o=function(e){h.postMessage(e,"*")},h.addEventListener("message",r,!1)):p(g)?(a=new g,s=a.port2,a.port1.onmessage=r,o=l(s.postMessage,s,1)):o=$ in f("script")?function(e){b.appendChild(f("script"))[$]=function(){b.removeChild(this),n.call(e)}}:function(e){setTimeout(l(n,e,1),0)}),t.exports={set:m,clear:y}},{"./$":40,"./$.cof":28,"./$.ctx":29,"./$.dom-create":31,"./$.invoke":35}],49:[function(e,t,i){function n(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+Math.random()).toString(36))}var r=0;n.safe=e("./$").g.Symbol||n,t.exports=n},{"./$":40}],50:[function(e,t,i){t.exports=function(){}},{}],51:[function(e,t,i){var n=e("./$").g,r=e("./$.shared")("wks");t.exports=function(t){return r[t]||(r[t]=n.Symbol&&n.Symbol[t]||e("./$.uid").safe("Symbol."+t))}},{"./$":40,"./$.shared":45,"./$.uid":49}],52:[function(e,t,i){var n=e("./$").core,r=e("./$.iter");n.isIterable=r.is,n.getIterator=r.get},{"./$":40,"./$.iter":39}],53:[function(e,t,i){var n=e("./$"),r=e("./$.unscope"),o=e("./$.uid").safe("iter"),a=e("./$.iter"),s=a.step,c=a.Iterators;e("./$.iter-define")(Array,"Array",function(e,t){n.set(this,o,{o:n.toObject(e),i:0,k:t})},function(){var e=this[o],t=e.o,i=e.k,n=e.i++;return!t||n>=t.length?(e.o=void 0,s(1)):"keys"==i?s(0,n):"values"==i?s(0,t[n]):s(0,[n,t[n]])},"values"),c.Arguments=c.Array,r("keys"),r("values"),r("entries")},{"./$":40,"./$.iter":39,"./$.iter-define":37,"./$.uid":49,"./$.unscope":50}],54:[function(e,t,i){var n=e("./$.def");n(n.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.def":30,"./$.set-proto":44}],55:[function(e,t,i){var n=e("./$"),r=e("./$.def"),o=n.isObject,a=n.toObject;n.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(t,i){var s=(n.core.Object||{})[t]||Object[t],c=0,l={};l[t]=0==i?function(e){return o(e)?s(e):e}:1==i?function(e){return o(e)?s(e):e}:2==i?function(e){return o(e)?s(e):e}:3==i?function(e){return o(e)?s(e):!0}:4==i?function(e){return o(e)?s(e):!0}:5==i?function(e){return o(e)?s(e):!1}:6==i?function(e,t){return s(a(e),t)}:7==i?function(e){return s(Object(n.assertDefined(e)))}:8==i?function(e){return s(a(e))}:e("./$.get-names").get;try{s("z")}catch(u){c=1}r(r.S+r.F*c,"Object",l)})},{"./$":40,"./$.def":30,"./$.get-names":34}],56:[function(e,t,i){"use strict";var n=e("./$.cof"),r={};r[e("./$.wks")("toStringTag")]="z",e("./$").FW&&"z"!=n(r)&&e("./$.redef")(Object.prototype,"toString",function(){return"[object "+n.classof(this)+"]"},!0)},{"./$":40,"./$.cof":28,"./$.redef":42,"./$.wks":51}],57:[function(e,t,i){"use strict";function n(e){var t=new R(function(){});return e&&(t.constructor=Object),R.resolve(t)===t}function r(e){return P(e)&&(G?"Promise"==b.classof(e):x in e)}function o(e,t){return h.FW||e!==R||t!==f?_(e,t):!0}function a(e){var t=E(e)[$];return void 0!=t?t:e}function s(e){var t;return P(e)&&(t=e.then),I(t)?t:!1}function c(e){var t=e.c;t.length&&j.call(O,function(){function i(t){var i,o,a=r?t.ok:t.fail;try{a?(r||(e.h=!0),i=a===!0?n:a(n),i===t.P?t.rej(TypeError("Promise-chain cycle")):(o=s(i))?o.call(i,t.res,t.rej):t.res(i)):t.rej(n)}catch(c){t.rej(c)}}for(var n=e.v,r=1==e.s,o=0;t.length>o;)i(t[o++]);t.length=0})}function l(e){var t,i=e[x],n=i.a||i.c,r=0;if(i.h)return!1;for(;n.length>r;)if(t=n[r++],t.fail||!l(t.P))return!1;return!0}function u(e){var t,i=this;i.d||(i.d=!0,i=i.r||i,i.v=e,i.s=2,i.a=i.c.slice(),setTimeout(function(){j.call(O,function(){l(t=i.p)&&(S?k.emit("unhandledRejection",e,t):O.console&&console.error&&console.error("Unhandled promise rejection",e)),i.a=void 0})},1),c(i))}function d(e){var t,i=this;if(!i.d){i.d=!0,i=i.r||i;try{(t=s(e))?j.call(O,function(){var n={r:i,d:!1};try{t.call(e,p(d,n,1),p(u,n,1))}catch(r){u.call(n,r)}}):(i.v=e,i.s=1,c(i))}catch(n){u.call({r:i,d:!1},n)}}}var f,h=e("./$"),p=e("./$.ctx"),b=e("./$.cof"),v=e("./$.def"),m=e("./$.assert"),y=e("./$.for-of"),g=e("./$.set-proto").set,_=e("./$.same"),M=e("./$.species"),$=e("./$.wks")("species"),x=e("./$.uid").safe("record"),w="Promise",O=h.g,k=O.process,S="process"==b(k),j=k&&k.nextTick||e("./$.task").set,R=O[w],I=h.isFunction,P=h.isObject,A=m.fn,E=m.obj,G=function(){function e(t){var i=new R(t);return g(i,e.prototype),i}var t=!1;try{if(t=I(R)&&I(R.resolve)&&n(),g(e,R),e.prototype=h.create(R.prototype,{constructor:{value:e}}),e.resolve(5).then(function(){})instanceof e||(t=!1),t&&h.DESC){var i=!1;R.resolve(h.setDesc({},"then",{get:function(){i=!0}})),t=i}}catch(r){t=!1}return t}();G||(R=function(e){A(e);var t={p:m.inst(this,R,w),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1};h.hide(this,x,t);try{e(p(d,t,1),p(u,t,1))}catch(i){u.call(t,i)}},e("./$.mix")(R.prototype,{then:function(e,t){var i=E(E(this).constructor)[$],n={ok:I(e)?e:!0,fail:I(t)?t:!1},r=n.P=new(void 0!=i?i:R)(function(e,t){n.res=A(e),n.rej=A(t)}),o=this[x];return o.c.push(n),o.a&&o.a.push(n),o.s&&c(o),r},"catch":function(e){return this.then(void 0,e)}})),v(v.G+v.W+v.F*!G,{Promise:R}),b.set(R,w),M(R),M(f=h.core[w]),v(v.S+v.F*!G,w,{reject:function(e){return new(a(this))(function(t,i){i(e)})}}),v(v.S+v.F*(!G||n(!0)),w,{resolve:function(e){return r(e)&&o(e.constructor,this)?e:new this(function(t){t(e)})}}),v(v.S+v.F*!(G&&e("./$.iter-detect")(function(e){R.all(e)["catch"](function(){})})),w,{all:function(e){var t=a(this),i=[];return new t(function(n,r){y(e,!1,i.push,i);var o=i.length,a=Array(o);o?h.each.call(i,function(e,i){t.resolve(e).then(function(e){a[i]=e,--o||n(a)},r)}):n(a)})},race:function(e){var t=a(this);return new t(function(i,n){y(e,!1,function(e){t.resolve(e).then(i,n)})})}})},{"./$":40,"./$.assert":27,"./$.cof":28,"./$.ctx":29,"./$.def":30,"./$.for-of":32,"./$.iter-detect":38,"./$.mix":41,"./$.same":43,"./$.set-proto":44,"./$.species":46,"./$.task":48,"./$.uid":49,"./$.wks":51}],58:[function(e,t,i){var n=e("./$").set,r=e("./$.string-at")(!0),o=e("./$.uid").safe("iter"),a=e("./$.iter"),s=a.step;e("./$.iter-define")(String,"String",function(e){n(this,o,{o:String(e),i:0})},function(){var e,t=this[o],i=t.o,n=t.i;return n>=i.length?s(1):(e=r(i,n),t.i+=e.length,s(0,e))})},{"./$":40,"./$.iter":39,"./$.iter-define":37,"./$.string-at":47,"./$.uid":49}],59:[function(e,t,i){e("./es6.array.iterator");var n=e("./$"),r=e("./$.iter").Iterators,o=e("./$.wks")("iterator"),a=r.Array,s=n.g.NodeList,c=n.g.HTMLCollection,l=s&&s.prototype,u=c&&c.prototype;n.FW&&(!s||o in l||n.hide(l,o,a),!c||o in u||n.hide(u,o,a)),r.NodeList=r.HTMLCollection=a},{"./$":40,"./$.iter":39,"./$.wks":51,"./es6.array.iterator":53}],60:[function(t,i,n){(function(t){(function(){"use strict";function r(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,i){var n={6.4:"10",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&i&&/^Win/i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&i&&(e=e.replace(RegExp(t,"i"),i)),e=s(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").split(" on ")[0])}function a(e,t){var i=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&M>=n)for(;++i<n;)t(e[i],i,e);else c(e,t)}function s(e){return e=h(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:r(e)}function c(e,t){for(var i in e)O.call(e,i)&&t(e[i],i,e)}function l(e){return null==e?r(e):k.call(e).slice(8,-1)}function u(e,t){var i=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(i)&&("object"==i?!!e[t]:!0)}function d(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function f(e,t){var i=null;return a(e,function(n,r){i=t(i,n,r,e)}),i}function h(e){return String(e).replace(/^ +| +$/g,"")}function p(e){function t(t){return f(t,function(t,i){return t||RegExp("\\b"+(i.pattern||d(i))+"\\b","i").exec(e)&&(i.label||i)})}function i(t){return f(t,function(t,i,n){return t||(i[U]||i[/^[a-z]+(?: +[a-z]+\b)*/i.exec(U)]||RegExp("\\b"+d(n)+"(?:\\b|\\w*\\d)","i").exec(e))&&n})}function n(t){return f(t,function(t,i){return t||RegExp("\\b"+(i.pattern||d(i))+"\\b","i").exec(e)&&(i.label||i)})}function r(t){return f(t,function(t,i){var n=i.pattern||d(i);return!t&&(t=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=o(t,n,i.label||i)),t})}function a(t){return f(t,function(t,i){var n=i.pattern||d(i);return!t&&(t=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(i.label&&!RegExp(n,"i").test(i.label)?i.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),i=i.label||i,t=s(t[0].replace(RegExp(n,"i"),i).replace(RegExp("; *(?:"+i+"[_-])?","i")," ").replace(RegExp("("+i+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function b(t){return f(t,function(t,i){return t||(RegExp(i+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}function y(){return this.description||""}var g=v,_=e&&"object"==typeof e&&"String"!=l(e);_&&(g=e,e=null);var M=g.navigator||{},w=M.userAgent||"";e||(e=w);var O,S,j=_||x==m,R=_?!!M.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(k.toString()),I="Object",P=_?I:"ScriptBridgingProxyObject",A=_?I:"Environment",E=_&&g.java?"JavaPackage":l(g.java),G=_?I:"RuntimeObject",C=/\bJava/.test(E)&&g.java,L=C&&l(g.environment)==A,T=C?"a":"α",F=C?"b":"β",D=g.document||{},W=g.operamini||g.opera,B=$.test(B=_&&W?W["[[Class]]"]:l(W))?B:W=null,V=e,N=[],q=null,z=e==w,H=z&&W&&"function"==typeof W.version&&W.version(),X=t(["Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),K=n(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),U=a([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),J=i({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),Y=r(["Windows Phone ","Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(X&&(X=[X]),J&&!U&&(U=a([J])),(O=/\bGoogle TV\b/.exec(U))&&(U=O[0]),/\bSimulator\b/i.test(e)&&(U=(U?U+" ":"")+"Simulator"),"Opera Mini"==K&&/\bOPiOS\b/.test(e)&&N.push("running in Turbo/Uncompressed mode"),/^iP/.test(U)?(K||(K="Safari"),Y="iOS"+((O=/ OS ([\d_]+)/i.exec(e))?" "+O[1].replace(/_/g,"."):"")):"Konqueror"!=K||/buntu/i.test(Y)?J&&"Google"!=J&&(/Chrome/.test(K)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(U))?(K="Android Browser",Y=/\bAndroid\b/.test(Y)?Y:"Android"):(!K||(O=!/\bMinefield\b|\(Android;/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(K)))&&(K&&!U&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(O+"/")+8))&&(K=null),(O=U||J||Y)&&(U||J||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Y))&&(K=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Y)?Y:O)+" Browser")):Y="Kubuntu",(O=/\((Mobile|Tablet).*?Firefox\b/i.exec(e))&&O[1]&&(Y="Firefox OS",U||(U=O[1])),H||(H=b(["(?:Cloud9|CriOS|CrMo|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",d(K),"(?:Firefox|Minefield|NetFront)"])),"iCab"==X&&parseFloat(H)>3?X=["WebKit"]:"Trident"!=X&&(O=/\bOpera\b/.test(K)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&"WebKit"||!X&&/\bMSIE\b/i.test(e)&&("Mac OS"==Y?"Tasman":"Trident"))?X=[O]:/\bPlayStation\b(?! Vita\b)/i.test(K)&&"WebKit"==X&&(X=["NetFront"]),"IE"==K&&(O=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(K+=" Mobile",Y="Windows Phone "+(/\+$/.test(O)?O:O+".x"),N.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(K="IE Mobile",Y="Windows Phone 8+",N.unshift("desktop mode"),H||(H=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=K&&"Trident"==X&&(O=/\brv:([\d.]+)/.exec(e))?(/\bWPDesktop\b/i.test(e)||(K&&N.push("identifying as "+K+(H?" "+H:"")),K="IE"),H=O[1]):"Chrome"!=K&&"IE"==K||!(O=/\bEdge\/([\d.]+)/.exec(e))||(K="IE",H=O[1],X=["Trident"],N.unshift("platform preview")),z){if(u(g,"global"))if(C&&(O=C.lang.System,V=O.getProperty("os.arch"),Y=Y||O.getProperty("os.name")+" "+O.getProperty("os.version")),j&&u(g,"system")&&(O=[g.system])[0]){Y||(Y=O[0].os||null);try{O[1]=g.require("ringo/engine").version,H=O[1].join("."),K="RingoJS"}catch(Z){O[0].global.system==g.system&&(K="Narwhal")}}else"object"==typeof g.process&&(O=g.process)?(K="Node.js",V=O.arch,Y=O.platform,H=/[\d.]+/.exec(O.version)[0]):L&&(K="Rhino");else l(O=g.runtime)==P?(K="Adobe AIR",Y=O.flash.system.Capabilities.os):l(O=g.phantom)==G?(K="PhantomJS",H=(O=O.version||null)&&O.major+"."+O.minor+"."+O.patch):"number"==typeof D.documentMode&&(O=/\bTrident\/(\d+)/i.exec(e))&&(H=[H,D.documentMode],(O=+O[1]+4)!=H[1]&&(N.push("IE "+H[1]+" mode"),X&&(X[1]=""),H[1]=O),H="IE"==K?String(H[1].toFixed(1)):H[0]);Y=Y&&s(Y)}H&&(O=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(H)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(z&&M.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(q=/b/i.test(O)?"beta":"alpha",H=H.replace(RegExp(O+"\\+?$"),"")+("beta"==q?F:T)+(/\d+\+?/.exec(O)||"")),"Fennec"==K||"Firefox"==K&&/\b(?:Android|Firefox OS)\b/.test(Y)?K="Firefox Mobile":"Maxthon"==K&&H?H=H.replace(/\.[\d.]+/,".x"):"Silk"==K?(/\bMobi/i.test(e)||(Y="Android",N.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&N.unshift("accelerated")):/\bXbox\b/i.test(U)?(Y=null,"Xbox 360"==U&&/\bIEMobile\b/.test(e)&&N.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(K)&&(!K||U||/Browser|Mobi/.test(K))||"Windows CE"!=Y&&!/Mobi/i.test(e)?"IE"==K&&z&&null===g.external?N.unshift("platform preview"):(/\bBlackBerry\b/.test(U)||/\bBB10\b/.test(e))&&(O=(RegExp(U.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||H)?(O=[O,/BB10/.test(e)],Y=(O[1]?(U=null,J="BlackBerry"):"Device Software")+" "+O[0],H=null):this!=c&&"Wii"!=U&&(z&&W||/Opera/.test(K)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==K&&/\bOS X (?:\d+\.){2,}/.test(Y)||"IE"==K&&(Y&&!/^Win/.test(Y)&&H>5.5||/\bWindows XP\b/.test(Y)&&H>8||8==H&&!/\bTrident\b/.test(e)))&&!$.test(O=p.call(c,e.replace($,"")+";"))&&O.name&&(O="ing as "+O.name+((O=O.version)?" "+O:""),$.test(K)?(/\bIE\b/.test(O)&&"Mac OS"==Y&&(Y=null),O="identify"+O):(O="mask"+O,K=B?s(B.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(O)&&(Y=null),z||(H=null)),X=["Presto"],N.push(O)):K+=" Mobile",(O=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(O=[parseFloat(O.replace(/\.(\d)$/,".0$1")),O],"Safari"==K&&"+"==O[1].slice(-1)?(K="WebKit Nightly",q="alpha",H=O[1].slice(0,-1)):(H==O[1]||H==(O[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1]))&&(H=null),O[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==O[0]&&537.36==O[2]&&parseFloat(O[1])>=28&&"IE"!=K&&(X=["Blink"]),z&&(R||O[1])?(X&&(X[1]="like Chrome"),O=O[1]||(O=O[0],530>O?1:532>O?2:532.05>O?3:533>O?4:534.03>O?5:534.07>O?6:534.1>O?7:534.13>O?8:534.16>O?9:534.24>O?10:534.3>O?11:535.01>O?12:535.02>O?"13+":535.07>O?15:535.11>O?16:535.19>O?17:536.05>O?18:536.1>O?19:537.01>O?20:537.11>O?"21+":537.13>O?23:537.18>O?24:537.24>O?25:537.36>O?26:"Blink"!=X?"27":"28")):(X&&(X[1]="like Safari"),O=O[0],O=400>O?1:500>O?2:526>O?3:533>O?4:534>O?"4+":535>O?5:537>O?6:538>O?7:601>O?8:"8"),X&&(X[1]+=" "+(O+="number"==typeof O?".x":/[.+]/.test(O)?"":"+")),"Safari"==K&&(!H||parseInt(H)>45)&&(H=O)),"Opera"==K&&(O=/\bzbov|zvav$/.exec(Y))?(K+=" ",N.unshift("desktop mode"),"zvav"==O?(K+="Mini",H=null):K+="Mobile",Y=Y.replace(RegExp(" *"+O+"$"),"")):"Safari"==K&&/\bChrome\b/.exec(X&&X[1])&&(N.unshift("desktop mode"),K="Chrome Mobile",H=null,/\bOS X\b/.test(Y)?(J="Apple",Y="iOS 4.3+"):Y=null),H&&0==H.indexOf(O=/[\d.]+$/.exec(Y))&&e.indexOf("/"+O+"-")>-1&&(Y=h(Y.replace(O,""))),X&&!/\b(?:Avant|Nook)\b/.test(K)&&(/Browser|Lunascape|Maxthon/.test(K)||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(K)&&X[1])&&(O=X[X.length-1])&&N.push(O),N.length&&(N=["("+N.join("; ")+")"]),J&&U&&U.indexOf(J)<0&&N.push("on "+J),U&&N.push((/^on /.test(N[N.length-1])?"":"on ")+U),Y&&(O=/ ([\d.+]+)$/.exec(Y),S=O&&"/"==Y.charAt(Y.length-O[0].length-1),Y={architecture:32,family:O&&!S?Y.replace(O[0],""):Y,version:O?O[1]:null,toString:function(){var e=this.version;return this.family+(e&&!S?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(O=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(V))&&!/\bi686\b/i.test(V)&&(Y&&(Y.architecture=64,Y.family=Y.family.replace(RegExp(" *"+O),"")),K&&(/\bWOW64\b/i.test(e)||z&&/\w(?:86|32)$/.test(M.cpuClass||M.platform)&&!/\bWin64; x64\b/i.test(e))&&N.unshift("32-bit")),e||(e=null);var Q={};return Q.description=e,Q.layout=X&&X[0],Q.manufacturer=J,Q.name=K,Q.prerelease=q,Q.product=U,Q.ua=e,Q.version=K&&H,Q.os=Y||{architecture:null,family:null,version:null,toString:function(){return"null"}},Q.parse=p,Q.toString=y,Q.version&&N.unshift(H),Q.name&&N.unshift(K),Y&&K&&(Y!=String(Y).split(" ")[0]||Y!=K.split(" ")[0]&&!U)&&N.push(U?"("+Y+")":"on "+Y),N.length&&(Q.description=N.join(" ")),Q}var b={"function":!0,object:!0},v=b[typeof window]&&window||this,m=v,y=b[typeof n]&&n,g=b[typeof i]&&i&&!i.nodeType&&i,_=y&&g&&"object"==typeof t&&t;!_||_.global!==_&&_.window!==_&&_.self!==_||(v=_);var M=Math.pow(2,53)-1,$=/\bOpera/,x=this,w=Object.prototype,O=w.hasOwnProperty,k=w.toString;"function"==typeof e&&"object"==typeof e.amd&&e.amd?e(function(){return p()}):y&&g?c(p(),function(e,t){y[t]=e}):v.platform=p()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[7])(7)});